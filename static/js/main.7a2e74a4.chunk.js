(this["webpackJsonptodo-deploy1"]=this["webpackJsonptodo-deploy1"]||[]).push([[0],{33:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(8),s=n.n(c),o=(n(33),n(9)),i=n(10),l=n(3),u=n(13),d=n(12),h=n(1),p=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={content:"",toggleEdit:!1},e.handleChange=e.handleChange.bind(Object(l.a)(e)),e.handleEnter=e.handleEnter.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleEnter",value:function(e){"Enter"===e.key&&(this.props.updateErrand(this.props.err.id,{content:this.state.content}),this.setState({toggleEdit:!this.state.toggleEdit}))}},{key:"componentDidMount",value:function(){this.setState({content:this.props.err.content})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"todo-errand",children:[Object(h.jsxs)("div",{className:"check-label",children:[Object(h.jsx)("input",{className:"check",id:this.props.err.id,type:"checkbox",checked:this.props.err.isDone||!1,onChange:function(){return e.props.handleDone(e.props.err.id,{isDone:!e.props.err.isDone})}}),this.state.toggleEdit?Object(h.jsx)("input",{type:"text",value:this.state.content,onChange:this.handleChange,onKeyDown:this.handleEnter}):Object(h.jsx)("label",{className:"strikethrough",onDoubleClick:function(){e.setState({toggleEdit:!e.state.toggleEdit})},htmlFor:this.props.err.id,children:this.props.err.content||""})]}),Object(h.jsx)("button",{className:"button-delete",onClick:function(){return e.props.handleDelete(e.props.err.id)},children:" X "})]})}}]),n}(a.a.Component);var b=function(e){return Object(h.jsx)("button",{type:"button",className:"button-toggle",onClick:function(){return e.setFilter(e.name)},children:Object(h.jsx)("span",{children:e.name})})},f=n(11),j=n(28),v=n(4),O=n.n(v),g=n(6),m=n(7),D=n.n(m),k="https://todo-dbbe.herokuapp.com/todos",x="GET_ERRANDS",y="ADD_ERRAND",E="UPDATE_ERRAND",C="DELETE_ERRAND",N={all:[]},w=function(e){return{type:y,errand:e}},A={All:function(){return!0},Active:function(e){return!e.isDone},Completed:function(e){return e.isDone}},F=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={content:"",isDone:!1,filter:"All"},e.handleChange=e.handleChange.bind(Object(l.a)(e)),e.handleEnter=e.handleEnter.bind(Object(l.a)(e)),e.handleDone=e.handleDone.bind(Object(l.a)(e)),e.handleDelete=e.handleDelete.bind(Object(l.a)(e)),e.setFilter=e.setFilter.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchErrands()}},{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleEnter",value:function(e){"Enter"===e.key&&(this.props.addErrand(this.state),this.setState({content:""}))}},{key:"handleDone",value:function(e,t){this.props.updateErrand(e,t)}},{key:"handleDelete",value:function(e){this.props.deleteErrand(e)}},{key:"numOfTasks",value:function(){return this.props.errand.all.filter((function(e){return!e.isDone})).length}},{key:"setFilter",value:function(e){this.setState({filter:e})}},{key:"handleAllDone",value:function(){var e=this;this.props.errand.all.map((function(t){return e.handleDone(t.id,{isDone:!e.state.isDone})})),this.setState({isDone:!this.state.isDone})}},{key:"render",value:function(){var e=this,t=Object.keys(A).map((function(t){return Object(h.jsx)(b,{name:t,setFilter:e.setFilter,pressed:t===e.state.filter},t)}));return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"chevron-container",children:[Object(h.jsx)("button",{type:"button",className:"button-chevron",onClick:function(){return e.handleAllDone()}}),Object(h.jsx)("input",{className:"input-add",type:"text",value:this.state.content,onChange:this.handleChange,onKeyDown:this.handleEnter})]}),Object(h.jsx)("div",{className:"todo-list",children:this.props.errand.all.filter(A[this.state.filter]).map((function(t){return Object(h.jsx)(p,{err:t,handleDone:e.handleDone,handleDelete:e.handleDelete,updateErrand:e.props.updateErrand},t.id)}))}),Object(h.jsxs)("div",{className:"bottom-container",children:[Object(h.jsxs)("div",{id:"counter",children:[this.numOfTasks()," ",this.numOfTasks()>1?"items":"item"," left"]}),Object(h.jsx)("div",{className:"filters",children:t}),Object(h.jsx)("div",{className:"button-clear-completed",children:this.props.errand.all.filter((function(e){return e.isDone})).length>0?Object(h.jsx)("button",{type:"button",onClick:function(){return e.props.errand.all.filter((function(e){return e.isDone})).map((function(t){return e.handleDelete(t.id)}))},children:"Clear Completed"}):Object(h.jsx)("button",{className:"button-invisible",children:" "})})]})]})}}]),n}(a.a.Component),S=Object(f.b)((function(e){return{errand:e.errand,count:e.count}}),(function(e){return{fetchErrands:function(){return e(function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(k);case 3:n=e.sent,r=n.data,t({type:x,errands:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},addErrand:function(t){return e(function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.post(k,e);case 3:r=t.sent,a=r.data,n(w(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},updateErrand:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(r){var a,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.a.put(k+"/".concat(e),t);case 3:a=n.sent,c=a.data,r({type:E,errand:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},deleteErrand:function(t){return e((n=t,function(){var e=Object(g.a)(O.a.mark((function e(t){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.delete(k+"/".concat(n));case 3:r=e.sent,a=r.data,t({type:C,errand:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))(F),T=function(){return Object(h.jsxs)("div",{id:"background",children:[Object(h.jsx)("h1",{id:"title",children:"ToDo"}),Object(h.jsx)(S,{})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},L=n(5),_=n(25),M=n(26),P=n(27),B=Object(L.combineReducers)({errand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{all:t.errands};case y:return{all:[].concat(Object(j.a)(e.all),[t.errand])};case E:return{all:e.all.map((function(e){return e.id===t.errand.id?t.errand:e}))};case C:return console.log("action",t),{all:e.all.filter((function(e){return e.id!==t.errand.id}))};default:return e}}}),I=Object(P.composeWithDevTools)(Object(L.applyMiddleware)(_.a,Object(M.createLogger)({collapsed:!0}))),J=Object(L.createStore)(B,I);s.a.render(Object(h.jsx)(f.a,{store:J,children:Object(h.jsx)(T,{})}),document.getElementById("root")),R()}},[[59,1,2]]]);
//# sourceMappingURL=main.7a2e74a4.chunk.js.map